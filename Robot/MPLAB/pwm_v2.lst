MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001                         list            p = 16F877A
                      00002                         #include        <P16F877A.INC>
                      00001         LIST
                      00002 ; P16F877A.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
                      00400         LIST
                      00003 
Warning[205]: Found directive in column 1. (__CONFIG)
2007   3FF2           00004 __CONFIG        _CP_OFF&_WDT_OFF&_PWRTE_ON&_HS_OSC
                      00005 
                      00006 #define         BANCO0  bcf               STATUS, RP0
                      00007 #define         BANCO1  bsf               STATUS, RP0
                      00008 
Warning[205]: Found directive in column 1. (cblock)
                      00009 cblock          20h
  00000020            00010                         C_PERIODO_PWM                                   ; Indica el periodo de la señal 
                            PWM
  00000021            00011                         C_ANCHO_PWM                                             ; Indica el ancho PWM pr
                            ogramado en alto
  00000022            00012                         C_CICLO_PWM                                             ; Indica el ciclo PWM ac
                            tual
  00000023            00013                         C_TMR1H                                                 ; Byte de mayor peso de 
                            TMR1
  00000024            00014                         C_TMR1L                                                 ; Byte de menor peso de 
                            TMR1
  00000025            00015                         C_CCP1H                                                 ; Byte de mayor peso de 
                            CCP1
  00000026            00016                         C_CCP1L                                                 ; Byte de menor peso de 
                            CCP1
  00000027            00017                         C_CCP2H                                                 ; Byte de mayor peso de 
                            CCP2
  00000028            00018                         C_CCP2L                                                 ; Byte de menor peso de 
                            CCP2
  00000029            00019                         RX_INICIADA                                             ; Indica el estado de la
                             recepcion
  0000002A            00020                         RX_TEMP
  0000002B            00021                         RX_COM4                                                 ; Byte de peso 4 de coma
                            ndo recibido
  0000002C            00022                         RX_COM3                                                 ; Byte de peso 3 de coma
                            ndo recibido
  0000002D            00023                         RX_COM2                                                 ; Byte de peso 2 de coma
                            ndo recibido
  0000002E            00024                         RX_COM1                                                 ; Byte de peso 1 de coma
                            ndo recibido
  0000002F            00025                         RX_COM0                                                 ; Byte de peso 0 de coma
                            ndo recibido
  00000030            00026                         CCP1H_MAX                                               ; Byte de mayor peso de 
                            valor maximo de CCP1
  00000031            00027                         CCP1L_MIN                                               ; Byte de menor peso de 
                            valor maximo de CCP1
  00000032            00028                         CCP2H_MAX                                               ; Byte de mayor peso de 
                            valor maximo de CCP2
  00000033            00029                         CCP2L_MIN                                               ; Byte de menor peso de 
                            valor maximo de CCP2
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000034            00030                         DATO1_1H                                                ; Byte de mayor peso de 
                            entrada 1 de operaciones aritmeticas
  00000035            00031                         DATO1_1L                                                ; Byte de menor peso de 
                            entrada 1 de operaciones aritmeticas
  00000036            00032                         DATO2_1H                                                ; Byte de mayor peso de 
                            entrada 2 de operaciones aritmeticas
  00000037            00033                         DATO2_1L                                                ; Byte de menor peso de 
                            entrada 2 de operaciones aritmeticas
  00000038            00034                         RESP1H                                                  ; Byte de mayor peso de 
                            resultado de operaciones aritmeticas
  00000039            00035                         RESP1L                                                  ; Byte de menor peso de 
                            resultado de operaciones aritmeticas
  0000003A            00036                         C_BASE_PWM1_H                                   ; Base de configuracion PWM
  0000003B            00037                         C_BASE_PWM1_L                                   ; Base de configuracion PWM
  0000003C            00038                         C_INI_PWM1_H                                    ; Valor inicial de posicion de m
                            otor 1
  0000003D            00039                         C_INI_PWM1_L                                    ; Valor inicial de posicion de m
                            otor 1
  0000003E            00040                         C_INI_PWM2_H                                    ; Valor inicial de posicion de m
                            otor 2
  0000003F            00041                         C_INI_PWM2_L                                    ; Valor inicial de posicion de m
                            otor 2
  00000040            00042                         TX_INICIADA                                             ; Indica el estado de la
                             transmision
  00000041            00043                         TX_TEMP
  00000042            00044                         TX_COM4                                                 ; Byte de peso 4 de coma
                            ndo a transmitir
  00000043            00045                         TX_COM3                                                 ; Byte de peso 3 de coma
                            ndo a transmitir
  00000044            00046                         TX_COM2                                                 ; Byte de peso 2 de coma
                            ndo a transmitir
  00000045            00047                         TX_COM1                                                 ; Byte de peso 1 de coma
                            ndo a transmitir
  00000046            00048                         TX_COM0                                                 ; Byte de peso 0 de coma
                            ndo a transmitir
  00000047            00049                         C_VLRMIN_CCP1_H                                 ; Byte de mayor peso de posicion
                             maxima parametrizada del motor 1
  00000048            00050                         C_VLRMIN_CCP1_L                                 ; Byte de menorpeso de posicion 
                            maxima parametrizada del motor 1
  00000049            00051                         C_VLRMIN_CCP2_H                                 ; Byte de mayor peso de posicion
                             maxima parametrizada del motor 2
  0000004A            00052                         C_VLRMIN_CCP2_L                                 ; Byte de menorpeso de posicion 
                            maxima parametrizada del motor 2
  0000004B            00053                         C_VLRMIN_H
  0000004C            00054                         C_VLRMIN_L
  0000004D            00055                         C_BASE_PWM2_H                                   ; Base de configuracion PWM
  0000004E            00056                         C_BASE_PWM2_L                                   ; Base de configuracion PWM
Warning[205]: Found directive in column 1. (ENDC)
                      00057 endc
                      00058 
0000                  00059                         org 00h
0000   2134           00060                         call INICIO
0001   0000           00061                         nop
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00062 
0004                  00063                         org 04h
0004   180C           00064                         btfsc           PIR1, TMR1IF
0005   212F           00065                         call            INT_TMR1
0006   190C           00066                         btfsc           PIR1, CCP1IF
0007   212C           00067                         call            INT_CCP1
0008   180D           00068                         btfsc           PIR2, CCP2IF
0009   2129           00069                         call            INT_CCP2
000A   1A0C           00070                         btfsc           PIR1, TXIF
000B   2018           00071                         call            INT_TX
000C   1A8C           00072                         btfsc           PIR1, RCIF
000D   2033           00073                         call            INT_RX
000E   190B           00074                         btfsc           INTCON, TMR0IF
000F   2011           00075                         call            INT_TMR0
0010   0009           00076 RET_INT         retfie
                      00077 
0011   1E8B           00078 INT_TMR0        btfss           INTCON, TMR0IE          ; Interrupcion habilitada?
0012   0008           00079                         return                                                  ; No, retornar sin reali
                            zar accion alguna
0013   2015           00080                         call            CFG_TMR0_OFF            ; Si, desactivar la interrupcion por TMR
                            0
0014   0008           00081                         return
                      00082 
0015   128B           00083 CFG_TMR0_OFF bcf                        INTCON, TMR0IE
0016   1287           00084                         bcf                     PORTC, 5
0017   0008           00085                         return
                      00086 
0018   1683           00087 INT_TX          BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0019   080C           00088                         movf            PIE1, W
001A   1283           00089                         BANCO0
001B   00C1           00090                         movwf           TX_TEMP
001C   1E41           00091                         btfss           TX_TEMP, 4                      ; La interrupcion por transmisio
                            n serial esta habilitada?
001D   2828           00092                         goto            RET_PROC_TX                     ; No, retornar
001E   3006           00093                         movlw           06h                                     ; Si, continuar
001F   0640           00094                         xorwf           TX_INICIADA, W
0020   1903           00095                         btfsc           STATUS, Z                       ; La transmision ya fué terminad
                            a previamente?
0021   2829           00096                         goto            DES_TX                          ; Si, evaluar si el buffer de TX
                             esta vacio
0022   0AC0           00097                         incf            TX_INICIADA, F
0023   3006           00098                         movlw           06h
0024   0640           00099                         xorwf           TX_INICIADA, W
0025   1903           00100                         btfsc           STATUS, Z
0026   2829           00101                         goto            DES_TX                          ; Rutina de deshabilitacion de t
                            ransmision
0027   205C           00102                         call            REG_TX
0028   0008           00103 RET_PROC_TX     return
                      00104 
0029   1683           00105 DES_TX          BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002A   0818           00106                         movf            TXSTA, W
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

002B   1283           00107                         BANCO0
002C   00C1           00108                         movwf           TX_TEMP
002D   18C1           00109                         btfsc           TX_TEMP, 1                      ; La transmision actual ya se te
                            rminó?
002E   2828           00110                         goto            RET_PROC_TX                     ; No, retornar
002F   1683           00111                         BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0030   1298           00112                         bcf                     TXSTA, TXEN
0031   1283           00113                         BANCO0
0032   2828           00114                         goto            RET_PROC_TX
                      00115 
0033   081A           00116 INT_RX          movfw           RCREG
0034   00AA           00117                         movwf           RX_TEMP
0035   2037           00118                         call            PROC_RX
0036   0008           00119                         return
                      00120 
0037   08A9           00121 PROC_RX         movf            RX_INICIADA, F
0038   1903           00122                         btfsc           STATUS, Z
0039   283C           00123                         goto            NUEVA_RX
003A   2840           00124                         goto            CONT_RX
003B   0008           00125 RET_PROC_RX     return
                      00126 
003C   3055           00127 NUEVA_RX        movlw           55h
003D   062A           00128                         xorwf           RX_TEMP, W
003E   1D03           00129                         btfss           STATUS, Z
003F   284B           00130                         goto            RESP_ERR_RX                     ; Respuesta erronea por transmis
                            ion
0040   302B           00131 CONT_RX         movlw           2Bh
0041   0729           00132                         addwf           RX_INICIADA, W
0042   0084           00133                         movwf           FSR
0043   082A           00134                         movf            RX_TEMP, W
0044   0080           00135                         movwf           INDF
0045   0AA9           00136                         incf            RX_INICIADA, F
0046   0829           00137                         movf            RX_INICIADA, W
0047   3A05           00138                         xorlw           05h
0048   1903           00139                         btfsc           STATUS, Z                       ; Trama completa?
0049   2862           00140                         goto            EJEC_RX                         ; Si
004A   283B           00141                         goto            RET_PROC_RX                     ; No
                      00142 
004B   3055           00143 RESP_ERR_RX     movlw           55h
004C   00C2           00144                         movwf           TX_COM4
004D   3002           00145                         movlw           02h
004E   00C3           00146                         movwf           TX_COM3
004F   01C4           00147                         clrf            TX_COM2
0050   01C5           00148                         clrf            TX_COM1
0051   01C6           00149                         clrf            TX_COM0
0052   2054           00150                         call            CONF_TX
0053   283B           00151                         goto            RET_PROC_RX
                      00152 
0054   3000           00153 CONF_TX         movlw           00h
0055   00C0           00154                         movwf           TX_INICIADA
0056   205C           00155                         call            REG_TX                          ; Mover primer registro a transm
                            itir
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0057   1683           00156                         BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0058   1698           00157                         bsf                     TXSTA, TXEN
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0059   160C           00158                         bsf                     PIE1, TXIE
005A   1283           00159                         BANCO0
005B   0008           00160                         return
                      00161 
005C   3042           00162 REG_TX          movlw           42h                                     ; Transfiere el registro de envi
                            o para su transmision serial
005D   0740           00163                         addwf           TX_INICIADA, W
005E   0084           00164                         movwf           FSR
005F   0800           00165                         movf            INDF, W
0060   0099           00166                         movwf           TXREG
0061   0008           00167                         return
                      00168 
0062   01A9           00169 EJEC_RX         clrf            RX_INICIADA                     ; Reiniciar variable
0063   206C           00170                         call            CFG_TMR0_ON                     ; Indicador de comando recibido
0064   120A           00171                         bcf                     PCLATH, 4
0065   118A           00172                         bcf                     PCLATH, 3
0066   032C           00173                         decf            RX_COM3, W
0067   0782           00174                         addwf           PCL, F                          ; Menu de comandos recibidos
0068   28D3           00175                         goto            CMDO_1                          ; Comando 1, cambiar valor de CC
                            P1
0069   28AD           00176                         goto            CMDO_2                          ; Comando 2, solicitud de posici
                            on de motor
006A   28A0           00177                         goto            CMDO_3                          ; Comando 3, solicitud de reinic
                            io
006B   2878           00178                         goto            CMDO_4                          ; Comando 4, calibracion de posi
                            cion de motor
                      00179 
006C   1687           00180 CFG_TMR0_ON     bsf                     PORTC, 5
006D   1683           00181                         BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
006E   1281           00182                         bcf                     OPTION_REG, T0CS        ; Fuente de temporizador 0 como 
                            reloj interno
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
006F   1181           00183                         bcf                     OPTION_REG, PSA         ; Preescala asognada a TMR0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0070   1501           00184                         bsf                     OPTION_REG, PS2         ; Presscala de 256 a TMR0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0071   1481           00185                         bsf                     OPTION_REG, PS1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0072   1401           00186                         bsf                     OPTION_REG, PS0
0073   1283           00187                         BANCO0
0074   0181           00188                         clrf            TMR0
0075   110B           00189                         bcf                     INTCON, TMR0IF
0076   168B           00190                         bsf                     INTCON, TMR0IE
0077   0008           00191                         return
                      00192 
0078   032D           00193 CMDO_4          decf            RX_COM2, W
0079   0782           00194                         addwf           PCL, F
007A   287C           00195                         goto            LIM_MOTOR1                      ; Calibracion de motor 1
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

007B   288E           00196                         goto            LIM_MOTOR2                      ; Calibracion de motor 2
                      00197 
007C   082E           00198 LIM_MOTOR1      movf            RX_COM1, W
007D   00C7           00199                         movwf           C_VLRMIN_CCP1_H
007E   082F           00200                         movf            RX_COM0, W
007F   00C8           00201                         movwf           C_VLRMIN_CCP1_L
0080   2175           00202                         call            VLR_INI_CCP1
0081   2191           00203                         call            SET_CCP1
0082   2183           00204                         call            VLR_INI_CCP2
0083   2196           00205                         call            SET_CCP2
0084   3055           00206                         movlw           55h
0085   00C2           00207                         movwf           TX_COM4
0086   3001           00208                         movlw           01h
0087   00C3           00209                         movwf           TX_COM3
0088   082D           00210                         movf            RX_COM2, W
0089   00C4           00211                         movwf           TX_COM2
008A   01C5           00212                         clrf            TX_COM1
008B   01C6           00213                         clrf            TX_COM0
008C   2054           00214                         call            CONF_TX
008D   283B           00215                         goto            RET_PROC_RX
                      00216 
008E   082E           00217 LIM_MOTOR2      movf            RX_COM1, W
008F   00C9           00218                         movwf           C_VLRMIN_CCP2_H
0090   082F           00219                         movf            RX_COM0, W
0091   00CA           00220                         movwf           C_VLRMIN_CCP2_L
0092   2175           00221                         call            VLR_INI_CCP1
0093   2191           00222                         call            SET_CCP1
0094   2183           00223                         call            VLR_INI_CCP2
0095   2196           00224                         call            SET_CCP2
0096   3055           00225                         movlw           55h
0097   00C2           00226                         movwf           TX_COM4
0098   3001           00227                         movlw           01h
0099   00C3           00228                         movwf           TX_COM3
009A   082D           00229                         movf            RX_COM2, W
009B   00C4           00230                         movwf           TX_COM2
009C   01C5           00231                         clrf            TX_COM1
009D   01C6           00232                         clrf            TX_COM0
009E   2054           00233                         call            CONF_TX
009F   283B           00234                         goto            RET_PROC_RX
                      00235                         
00A0   2175           00236 CMDO_3          call            VLR_INI_CCP1
00A1   2191           00237                         call            SET_CCP1
00A2   2183           00238                         call            VLR_INI_CCP2
00A3   2196           00239                         call            SET_CCP2
00A4   3055           00240                         movlw           55h
00A5   00C2           00241                         movwf           TX_COM4
00A6   3001           00242                         movlw           01h
00A7   00C3           00243                         movwf           TX_COM3
00A8   01C4           00244                         clrf            TX_COM2
00A9   01C5           00245                         clrf            TX_COM1
00AA   01C6           00246                         clrf            TX_COM0
00AB   2054           00247                         call            CONF_TX
00AC   283B           00248                         goto            RET_PROC_RX
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00249 
00AD   032D           00250 CMDO_2          decf            RX_COM2, W
00AE   0782           00251                         addwf           PCL, F                          ; Menu de seleccion de motor
00AF   28B1           00252                         goto            POS_MOTOR1                      ; Motor 1
00B0   28C8           00253                         goto            POS_MOTOR2                      ; Motor 2
                      00254 
00B1   0825           00255 POS_MOTOR1      movf            C_CCP1H, W                      ; Calcular el valor del ancho de pulso e
                            n relacion con la cifra base parametrizada
00B2   00B4           00256                         movwf           DATO1_1H
00B3   0826           00257                         movf            C_CCP1L, W
00B4   00B5           00258                         movwf           DATO1_1L
00B5   083A           00259                         movf            C_BASE_PWM1_H, W
00B6   00B6           00260                         movwf           DATO2_1H
00B7   083B           00261                         movf            C_BASE_PWM1_L, W
00B8   00B7           00262                         movwf           DATO2_1L
00B9   21BF           00263                         call            RESTA16                         ; Restar la cifra base de contro
                            l PWM del valor parametrizado para el ancho de pulso
00BA   20BC           00264                         call            RESP_POS                        ; Enviar respuesta de posicion
00BB   283B           00265                         goto            RET_PROC_RX
                      00266 
00BC   3055           00267 RESP_POS        movlw           55h
00BD   00C2           00268                         movwf           TX_COM4
00BE   3001           00269                         movlw           01h
00BF   00C3           00270                         movwf           TX_COM3
00C0   082D           00271                         movf            RX_COM2, W
00C1   00C4           00272                         movwf           TX_COM2
00C2   0838           00273                         movf            RESP1H, W
00C3   00C5           00274                         movwf           TX_COM1
00C4   0839           00275                         movf            RESP1L, W
00C5   00C6           00276                         movwf           TX_COM0
00C6   2054           00277                         call            CONF_TX
00C7   0008           00278                         return
                      00279 
00C8   0827           00280 POS_MOTOR2      movf            C_CCP2H, W                      ; Calcular el valor del ancho de pulso e
                            n relacion con la cifra base parametrizada
00C9   00B4           00281                         movwf           DATO1_1H
00CA   0828           00282                         movf            C_CCP2L, W
00CB   00B5           00283                         movwf           DATO1_1L
00CC   084D           00284                         movf            C_BASE_PWM2_H, W
00CD   00B6           00285                         movwf           DATO2_1H
00CE   084E           00286                         movf            C_BASE_PWM2_L, W
00CF   00B7           00287                         movwf           DATO2_1L
00D0   21BF           00288                         call            RESTA16                         ; Restar la cifra base de contro
                            l PWM del valor parametrizado para el ancho de pulso
00D1   20BC           00289                         call            RESP_POS                        ; Enviar respuesta de posicion
00D2   283B           00290                         goto            RET_PROC_RX
                      00291 
00D3   032D           00292 CMDO_1          decf            RX_COM2, W
00D4   0782           00293                         addwf           PCL, F                          ; Menu de seleccion de motor
00D5   28D7           00294                         goto            CMB_CCP1                        ; Motor 1, cambiar ancho de puls
                            o
00D6   2911           00295                         goto            CMB_CCP2                        ; Motor 2, cambiar ancho de puls
                            o
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00296 
00D7   0847           00297 CMB_CCP1        movf            C_VLRMIN_CCP1_H, W
00D8   00CB           00298                         movwf           C_VLRMIN_H
00D9   0848           00299                         movf            C_VLRMIN_CCP1_L, W
00DA   00CC           00300                         movwf           C_VLRMIN_L
00DB   20F9           00301                         call            VER_LIM
00DC   3A00           00302                         xorlw           00h                                     ; Valor invalido de posi
                            cion?
00DD   1903           00303                         btfsc           STATUS, Z
00DE   28EF           00304                         goto            RES_ERR_POS
00DF   083A           00305                         movf            C_BASE_PWM1_H, W
00E0   00B4           00306                         movwf           DATO1_1H
00E1   083B           00307                         movf            C_BASE_PWM1_L, W
00E2   00B5           00308                         movwf           DATO1_1L
00E3   082E           00309                         movf            RX_COM1, W
00E4   00B6           00310                         movwf           DATO2_1H
00E5   082F           00311                         movf            RX_COM0, W
00E6   00B7           00312                         movwf           DATO2_1L
00E7   21B4           00313                         call            SUMA16                          ; Sumar la cifra base de control
                             PWM al valor recibido por el comando
00E8   0838           00314                         movf            RESP1H, W
00E9   00A5           00315                         movwf           C_CCP1H
00EA   0839           00316                         movf            RESP1L, W
00EB   00A6           00317                         movwf           C_CCP1L
00EC   2191           00318                         call            SET_CCP1
00ED   2105           00319                         call            ACK_CMD1
00EE   283B           00320                         goto            RET_PROC_RX
                      00321 
00EF   3055           00322 RES_ERR_POS     movlw           55h
00F0   00C2           00323                         movwf           TX_COM4
00F1   3002           00324                         movlw           02h
00F2   00C3           00325                         movwf           TX_COM3
00F3   082D           00326                         movf            RX_COM2, W
00F4   00C4           00327                         movwf           TX_COM2
00F5   01C5           00328                         clrf            TX_COM1
00F6   01C6           00329                         clrf            TX_COM0
00F7   2054           00330                         call            CONF_TX
00F8   283B           00331                         goto            RET_PROC_RX
                      00332 
00F9   084B           00333 VER_LIM         movf            C_VLRMIN_H, W
00FA   00B4           00334                         movwf           DATO1_1H
00FB   084C           00335                         movf            C_VLRMIN_L, W
00FC   00B5           00336                         movwf           DATO1_1L
00FD   082E           00337                         movf            RX_COM1, W
00FE   00B6           00338                         movwf           DATO2_1H
00FF   082F           00339                         movf            RX_COM0, W
0100   00B7           00340                         movwf           DATO2_1L
0101   21BF           00341                         call            RESTA16
0102   1803           00342                         btfsc           STATUS, C                       ; Resultado negativo?
0103   3401           00343                         retlw           01h                                     ; No, indicar
0104   3400           00344                         retlw           00h                                     ; Si, indicar
                      00345 
0105   3055           00346 ACK_CMD1        movlw           55h                                     ; Armar la respuesta afirmativa
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0106   00C2           00347                         movwf           TX_COM4
0107   3001           00348                         movlw           01h
0108   00C3           00349                         movwf           TX_COM3
0109   082D           00350                         movf            RX_COM2, W
010A   00C4           00351                         movwf           TX_COM2
010B   082E           00352                         movf            RX_COM1, W
010C   00C5           00353                         movwf           TX_COM1
010D   082F           00354                         movf            RX_COM0, W
010E   00C6           00355                         movwf           TX_COM0
010F   2054           00356                         call            CONF_TX                         ; Configurar el envio de la resp
                            uesta
0110   0008           00357                         return
                      00358 
0111   0849           00359 CMB_CCP2        movf            C_VLRMIN_CCP2_H, W
0112   00CB           00360                         movwf           C_VLRMIN_H
0113   084A           00361                         movf            C_VLRMIN_CCP2_L, W
0114   00CC           00362                         movwf           C_VLRMIN_L
0115   20F9           00363                         call            VER_LIM
0116   3A00           00364                         xorlw           00h                                     ; Valor invalido de posi
                            cion?
0117   1903           00365                         btfsc           STATUS, Z
0118   28EF           00366                         goto            RES_ERR_POS
0119   084D           00367                         movf            C_BASE_PWM2_H, W
011A   00B4           00368                         movwf           DATO1_1H
011B   084E           00369                         movf            C_BASE_PWM2_L, W
011C   00B5           00370                         movwf           DATO1_1L
011D   082E           00371                         movf            RX_COM1, W
011E   00B6           00372                         movwf           DATO2_1H
011F   082F           00373                         movf            RX_COM0, W
0120   00B7           00374                         movwf           DATO2_1L
0121   21B4           00375                         call            SUMA16                          ; Sumar la cifra base de control
                             PWM al valor recibido por el comando
0122   0838           00376                         movf            RESP1H, W
0123   00A7           00377                         movwf           C_CCP2H
0124   0839           00378                         movf            RESP1L, W
0125   00A8           00379                         movwf           C_CCP2L
0126   2196           00380                         call            SET_CCP2
0127   2105           00381                         call            ACK_CMD1
0128   283B           00382                         goto            RET_PROC_RX
                      00383 
0129   1086           00384 INT_CCP2        bcf                     PORTB, 1
012A   100D           00385                         bcf                     PIR2, CCP2IF
012B   0008           00386                         return
                      00387 
012C   1006           00388 INT_CCP1        bcf                     PORTB, 0
012D   110C           00389                         bcf                     PIR1, CCP1IF
012E   0008           00390                         return
                      00391 
012F   21AD           00392 INT_TMR1        call            SET_TMR1
0130   100C           00393                         bcf                     PIR1, TMR1IF
0131   3003           00394                         movlw           b'00000011'
0132   0086           00395                         movwf           PORTB
0133   0008           00396                         return
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00397 
0134   213A           00398 INICIO          call            CONF_CONST
0135   2157           00399                         call            CONF_RX
0136   2167           00400                         call            CFG_CCP
0137   219B           00401                         call            CFG_TMR1
0138   178B           00402                         bsf                     INTCON, GIE                     ; Habilitar las interrup
                            ciones
0139   21B2           00403                         call            CICLO
                      00404 
013A   30B5           00405 CONF_CONST      movlw           0B5h                            ; Configuracion inicial de constantes - 
                            0B4h - Motor brazo
013B   00BA           00406                         movwf           C_BASE_PWM1_H
013C   3000           00407                         movlw           000h                            ; 09Ch
013D   00BB           00408                         movwf           C_BASE_PWM1_L
013E   30B4           00409                         movlw           0B4h                            ; Configuracion inicial de const
                            antes - 0B4h - Motor pinza
013F   00CD           00410                         movwf           C_BASE_PWM2_H
0140   309C           00411                         movlw           09Ch                            ; 09Ch
0141   00CE           00412                         movwf           C_BASE_PWM2_L
0142   3000           00413                         movlw           000h
0143   00BC           00414                         movwf           C_INI_PWM1_H
0144   3000           00415                         movlw           000h
0145   00BD           00416                         movwf           C_INI_PWM1_L
0146   3000           00417                         movlw           000h
0147   00BE           00418                         movwf           C_INI_PWM2_H
0148   3000           00419                         movlw           000h
0149   00BF           00420                         movwf           C_INI_PWM2_L
014A   3005           00421                         movlw           05h                                     ; 05h
014B   00C7           00422                         movwf           C_VLRMIN_CCP1_H
014C   3078           00423                         movlw           078h                            ; 078h
014D   00C8           00424                         movwf           C_VLRMIN_CCP1_L
014E   3006           00425                         movlw           06h                                     ; 06h
014F   00C9           00426                         movwf           C_VLRMIN_CCP2_H
0150   3040           00427                         movlw           040h                            ; 040h
0151   00CA           00428                         movwf           C_VLRMIN_CCP2_L
0152   1683           00429                         BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0153   1287           00430                         bcf                     TRISC, 5
0154   1283           00431                         BANCO0
0155   1287           00432                         bcf                     PORTC, 5
0156   0008           00433                         return
                      00434 
0157   01A9           00435 CONF_RX         clrf            RX_INICIADA                     ; Iniciar variable
0158   1683           00436                         BANCO1
0159   3019           00437                         movlw           .25                             ; Comunicacion a 9600bps
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
015A   0099           00438                         movwf           SPBRG
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
015B   1218           00439                         bcf                     TXSTA, SYNC                     ; Habilitar comunicacion
                             asincrona
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
015C   1518           00440                         bsf                     TXSTA, BRGH                     ; Habilitar seleccion de
                             alta velocidad
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015D   1283           00441                         BANCO0
015E   1798           00442                         bsf                     RCSTA, SPEN                     ; Habilitar puerto seria
                            l
015F   1318           00443                         bcf                     RCSTA, RX9                      ; Deshabilitar recepcion
                             de 9 bits
0160   1618           00444                         bsf                     RCSTA, CREN                     ; Habilitar el modulo de
                             recepcion
0161   170B           00445                         bsf                     INTCON, PEIE            ; Habilitar la interrupcion por 
                            eventos perifericos
0162   1683           00446                         BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0163   168C           00447                         bsf                     PIE1, RCIE                      ; Habilitar la interrupc
                            ion por recepcion de USAR
0164   1283           00448                         BANCO0
0165   128C           00449                         bcf                     PIR1, RCIF                      ; Limpiar la bandera de 
                            interrupcion por recepcion de USAR
0166   0008           00450                         return
                      00451 
0167   2175           00452 CFG_CCP         call            VLR_INI_CCP1
0168   2191           00453                         call            SET_CCP1                        ; Configurar valor de control de
                             CCP1
0169   2183           00454                         call            VLR_INI_CCP2
016A   2196           00455                         call            SET_CCP2                        ; Configurar valor de control de
                             CCP2
016B   1683           00456                         BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
016C   150C           00457                         bsf                     PIE1, CCP1IE            ; Habilitar interrupcion por CCP
                            1 - PIR1<CCP1IF>
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
016D   140D           00458                         bsf                     PIE2, CCP2IE            ; Habilitar interrupcion por CCP
                            2 - PIR2<CCP2IF>
016E   1283           00459                         BANCO0
016F   300A           00460                         movlw           b'00001010'                     ; Configuracion CCP1
0170   0097           00461                         movwf           CCP1CON
0171   300A           00462                         movlw           b'00001010'                     ; Configuracion CCP2
0172   009D           00463                         movwf           CCP2CON
0173   170B           00464                         bsf                     INTCON, PEIE
0174   0008           00465                         return
                      00466 
0175   083A           00467 VLR_INI_CCP1 movf               C_BASE_PWM1_H, W
0176   00B4           00468                         movwf           DATO1_1H
0177   083B           00469                         movf            C_BASE_PWM1_L, W
0178   00B5           00470                         movwf           DATO1_1L
0179   083C           00471                         movf            C_INI_PWM1_H, W
017A   00B6           00472                         movwf           DATO2_1H
017B   083D           00473                         movf            C_INI_PWM1_L, W
017C   00B7           00474                         movwf           DATO2_1L
017D   21B4           00475                         call            SUMA16                          ; Sumar la cifra base de control
                             PWM al valor inicial de ancho de pulso 1 programado
017E   0838           00476                         movf            RESP1H, W
017F   00A5           00477                         movwf           C_CCP1H
0180   0839           00478                         movf            RESP1L, W
0181   00A6           00479                         movwf           C_CCP1L
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0182   0008           00480                         return
                      00481 
0183   084D           00482 VLR_INI_CCP2 movf               C_BASE_PWM2_H, W
0184   00B4           00483                         movwf           DATO1_1H
0185   084E           00484                         movf            C_BASE_PWM2_L, W
0186   00B5           00485                         movwf           DATO1_1L
0187   083E           00486                         movf            C_INI_PWM2_H, W
0188   00B6           00487                         movwf           DATO2_1H
0189   083F           00488                         movf            C_INI_PWM2_L, W
018A   00B7           00489                         movwf           DATO2_1L
018B   21B4           00490                         call            SUMA16                          ; Sumar la cifra base de control
                             PWM al valor inicial de ancho de pulso 2 programado
018C   0838           00491                         movf            RESP1H, W
018D   00A7           00492                         movwf           C_CCP2H
018E   0839           00493                         movf            RESP1L, W
018F   00A8           00494                         movwf           C_CCP2L
0190   0008           00495                         return
                      00496 
0191   0826           00497 SET_CCP1        movf            C_CCP1L, W
0192   0095           00498                         movwf           CCPR1L
0193   0825           00499                         movf            C_CCP1H, W
0194   0096           00500                         movwf           CCPR1H
0195   0008           00501                         return
                      00502 
0196   0828           00503 SET_CCP2        movf            C_CCP2L, W
0197   009B           00504                         movwf           CCPR2L
0198   0827           00505                         movf            C_CCP2H, W
0199   009C           00506                         movwf           CCPR2H
019A   0008           00507                         return
                      00508 
019B   30B1           00509 CFG_TMR1        movlw           0B1h
019C   00A3           00510                         movwf           C_TMR1H
019D   30E0           00511                         movlw           0E0h
019E   00A4           00512                         movwf           C_TMR1L
019F   21AD           00513                         call            SET_TMR1
01A0   1290           00514                         bcf                     T1CON, T1CKPS1          ; Preescala de 1
01A1   1210           00515                         bcf                     T1CON, T1CKPS0          ; Preescala de 1
01A2   1090           00516                         bcf                     T1CON, TMR1CS           ; Fuente de reloj interna
01A3   1683           00517                         BANCO1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01A4   140C           00518                         bsf                     PIE1, TMR1IE            ; Habilitar interrupcion por TMR
                            1 - TMR1IF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01A5   1006           00519                         bcf                     TRISB, 0                        ; Pin RB0 en modo salida
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01A6   1086           00520                         bcf                     TRISB, 1                        ; Pin RB1 en modo salida
01A7   1283           00521                         BANCO0
01A8   170B           00522                         bsf                     INTCON, PEIE            ; Habilitar interrupcion por per
                            ifericos
01A9   3003           00523                         movlw           b'00000011'
01AA   0086           00524                         movwf           PORTB
01AB   1410           00525                         bsf                     T1CON,TMR1ON            ; Habilitar TMR1
01AC   0008           00526                         return
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00527 
01AD   0824           00528 SET_TMR1        movf            C_TMR1L, W
01AE   008E           00529                         movwf           TMR1L
01AF   0823           00530                         movf            C_TMR1H, W
01B0   008F           00531                         movwf           TMR1H
01B1   0008           00532                         return
                      00533 
01B2   0000           00534 CICLO           nop
01B3   29B2           00535                         goto            CICLO
                      00536 
                      00537 ; ******************************************************
                      00538 ;                                       FUNCIONES DE APOYO
                      00539 ; ******************************************************
                      00540 
                      00541 ;******************************
                      00542 ;       SUMA EN 16 BITS
                      00543 ;******************************
01B4   0835           00544 SUMA16          movf            DATO1_1L, W
01B5   0737           00545                         addwf           DATO2_1L, W
01B6   00B9           00546                         movwf           RESP1L
01B7   1803           00547                         btfsc           STATUS, C
01B8   29BD           00548                         goto            ETI1
01B9   0834           00549                         movf            DATO1_1H, W
01BA   0736           00550 ETI2            addwf           DATO2_1H, W
01BB   00B8           00551                         movwf           RESP1H
01BC   0008           00552                         return
                      00553 
01BD   0A34           00554 ETI1            incf            DATO1_1H,W
01BE   29BA           00555                         goto            ETI2
                      00556 
                      00557 ;******************************
                      00558 ;       RESTA EN 16 BITS
                      00559 ;******************************
01BF   0837           00560 RESTA16         movf            DATO2_1L, W
01C0   0235           00561                         subwf           DATO1_1L, W
01C1   00B9           00562                         movwf           RESP1L
01C2   1C03           00563                         btfss           STATUS, C
01C3   29C8           00564                         goto            ETI9
01C4   0836           00565                         movf            DATO2_1H, W
01C5   0234           00566 ETI10           subwf           DATO1_1H, W
01C6   00B8           00567                         movwf           RESP1H
01C7   0008           00568                         return
                      00569 
01C8   0A36           00570 ETI9            incf            DATO2_1H, W
01C9   29C5           00571                         goto            ETI10
                      00572 
                      00573                         end
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACK_CMD1                          00000105
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BANCO0                            bcf               STATUS, RP0
BANCO1                            bsf               STATUS, RP0
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1H_MAX                         00000030
CCP1IE                            00000002
CCP1IF                            00000002
CCP1L_MIN                         00000031
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2H_MAX                         00000032
CCP2IE                            00000000
CCP2IF                            00000000
CCP2L_MIN                         00000033
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

CFG_CCP                           00000167
CFG_TMR0_OFF                      00000015
CFG_TMR0_ON                       0000006C
CFG_TMR1                          0000019B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CICLO                             000001B2
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMB_CCP1                          000000D7
CMB_CCP2                          00000111
CMCON                             0000009C
CMDO_1                            000000D3
CMDO_2                            000000AD
CMDO_3                            000000A0
CMDO_4                            00000078
CMIE                              00000006
CMIF                              00000006
CONF_CONST                        0000013A
CONF_RX                           00000157
CONF_TX                           00000054
CONT_RX                           00000040
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
C_ANCHO_PWM                       00000021
C_BASE_PWM1_H                     0000003A
C_BASE_PWM1_L                     0000003B
C_BASE_PWM2_H                     0000004D
C_BASE_PWM2_L                     0000004E
C_CCP1H                           00000025
C_CCP1L                           00000026
C_CCP2H                           00000027
C_CCP2L                           00000028
C_CICLO_PWM                       00000022
C_INI_PWM1_H                      0000003C
C_INI_PWM1_L                      0000003D
C_INI_PWM2_H                      0000003E
C_INI_PWM2_L                      0000003F
C_PERIODO_PWM                     00000020
C_TMR1H                           00000023
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

C_TMR1L                           00000024
C_VLRMIN_CCP1_H                   00000047
C_VLRMIN_CCP1_L                   00000048
C_VLRMIN_CCP2_H                   00000049
C_VLRMIN_CCP2_L                   0000004A
C_VLRMIN_H                        0000004B
C_VLRMIN_L                        0000004C
D                                 00000005
DATA_ADDRESS                      00000005
DATO1_1H                          00000034
DATO1_1L                          00000035
DATO2_1H                          00000036
DATO2_1L                          00000037
DC                                00000001
DES_TX                            00000029
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
EJEC_RX                           00000062
ETI1                              000001BD
ETI10                             000001C5
ETI2                              000001BA
ETI9                              000001C8
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INICIO                            00000134
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
INT_CCP1                          0000012C
INT_CCP2                          00000129
INT_RX                            00000033
INT_TMR0                          00000011
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

INT_TMR1                          0000012F
INT_TX                            00000018
IRP                               00000007
LIM_MOTOR1                        0000007C
LIM_MOTOR2                        0000008E
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
NUEVA_RX                          0000003C
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
POS_MOTOR1                        000000B1
POS_MOTOR2                        000000C8
PR2                               00000092
PROC_RX                           00000037
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
REG_TX                            0000005C
RESP1H                            00000038
RESP1L                            00000039
RESP_ERR_RX                       0000004B
RESP_POS                          000000BC
RESTA16                           000001BF
RES_ERR_POS                       000000EF
RET_INT                           00000010
RET_PROC_RX                       0000003B
RET_PROC_TX                       00000028
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
RX_COM0                           0000002F
RX_COM1                           0000002E
RX_COM2                           0000002D
RX_COM3                           0000002C
RX_COM4                           0000002B
RX_INICIADA                       00000029
RX_TEMP                           0000002A
R_W                               00000002
S                                 00000003
SEN                               00000000
SET_CCP1                          00000191
SET_CCP2                          00000196
SET_TMR1                          000001AD
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SUMA16                            000001B4
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
TX_COM0                           00000046
TX_COM1                           00000045
TX_COM2                           00000044
TX_COM3                           00000043
TX_COM4                           00000042
TX_INICIADA                       00000040
TX_TEMP                           00000041
UA                                00000001
VER_LIM                           000000F9
VLR_INI_CCP1                      00000175
VLR_INI_CCP2                      00000183
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
MPASM  5.02                        PWM_V2.ASM   12-4-2014  21:54:31         PAGE 21


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0000 : XX--XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXX------ ---------------- ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   456
Program Memory Words Free:  7736


Errors   :     0
Warnings :     3 reported,     0 suppressed
Messages :    20 reported,     0 suppressed

